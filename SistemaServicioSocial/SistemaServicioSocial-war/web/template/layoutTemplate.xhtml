<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:b="http://bootsfaces.net/ui">

    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>Sistema de servicio social</title>
        <style type="text/css">
            .navbar-inverse .navbar-nav > li > a{
                color: white;
                font-weight: bold;
            }
            .navbar-inverse .navbar-nav > .open > a, .navbar-inverse .navbar-nav > .open > a:hover, .navbar-inverse .navbar-nav > .open > a:focus{
                background-color: #286090;
            }
            .navbar-inverse .navbar-brand{
                color: white;
                font-weight: bold;
            }
            .navbar-inverse{
                border-color: #5c9ccc;
                background:#5c9ccc url("/showcase/javax.faces.resource/images/ui-bg_gloss-wave_55_5c9ccc_500x100.png.xhtml?ln=primefaces-redmond") 50% 50% repeat-x;
            }
            .dropdown-header{
                color: white;
                font-weight: bold;
            }
            .sub-header {
                border-bottom: 1px solid #eee;
                padding-bottom: 10px;
            }
            .navbar-fixed-top {
                border: 0 none;
            }
            .sidebar {
                display: none;                           
            }
            @media (min-width: 768px) {
                .navbar {
                    background:#5c9ccc url("/showcase/javax.faces.resource/images/ui-bg_gloss-wave_55_5c9ccc_500x100.png.xhtml?ln=primefaces-redmond") 50% 50% repeat-x;
                    border-radius: 0px;
                    padding-bottom: 2px;
                    padding-top: 2px;
                    background-repeat: repeat-x;
                    left: 0;
                    position: fixed;
                    right: 0;
                    z-index: 1030;
                    color: white;
                    font-weight: bold;
                    height: 65px;
                }
                .sidebar {
                    background:#5c9ccc url("/showcase/javax.faces.resource/images/ui-bg_gloss-wave_55_5c9ccc_500x100.png.xhtml?ln=primefaces-redmond") 50% 50% repeat-x;
                    border-right: 0px solid #5c9ccc;
                    bottom: 0;
                    display: block;
                    left: 0;
                    overflow-x: hidden;
                    overflow-y: auto;
                    padding: 20px;
                    position: fixed;
                    top: 52px;
                    z-index: 1000;
                    color: white;
                    font-weight: bold;
                }
            }
            .nav-list {
                margin-bottom: 20px;
                margin-left: -20px;
                margin-right: -21px;
                color: white;
                font-weight: bold;
            }
            .nav-list > li > a {
                padding-left: 20px;
                padding-right: 20px;
                color: white;
                font-weight: bold;
            }
            .panel {
                color: black;
                font-weight: bold;
                background:#5c9ccc url("/showcase/javax.faces.resource/images/ui-bg_gloss-wave_55_5c9ccc_500x100.png.xhtml?ln=primefaces-redmond") 50% 50% repeat-x;
            }

            .panel-default > .panel-heading{
                background:#5c9ccc url("/showcase/javax.faces.resource/images/ui-bg_gloss-wave_55_5c9ccc_500x100.png.xhtml?ln=primefaces-redmond") 50% 50% repeat-x;
                border-color:#5c9ccc;
                color: white;
                font-weight: bold;
            }

            .panel-default {
                border-color: #5c9ccc;
                color: white;
                font-weight: bold;
            }

            .panel-default > .panel-heading + .panel-collapse > .panel-body{
                background:#5c9ccc url("/showcase/javax.faces.resource/images/ui-bg_gloss-wave_55_5c9ccc_500x100.png.xhtml?ln=primefaces-redmond") 50% 50% repeat-x;
                color: white;
                font-weight: bold;
                border-color: #5c9ccc;
            }

            .panel-title{
                font-size: 14px;
            }

            .nav > li > a:hover, .nav > li > a:focus{
                background-color: #286090;
                border-color: #5c9ccc;
                color: white;
                font-weight: bold;
            }

            .nav .open > a, .nav .open > a:hover, .nav .open > a:focus{
                background-color: #5c9ccc;
                border-color: #5c9ccc;
                color: white;
            }
            .nav-list > .active > a, .nav-sidebar > .active > a:hover, .nav-sidebar > .active > a:focus {
                background-color: #5c9ccc;
                border-color: #5c9ccc;
                color: white;
                font-weight: bold;
            }
            .main {
                padding: 20px;
            }
            @media (min-width: 768px) {
                .main {
                    padding-left: 40px;
                    padding-right: 40px;
                }
            }
            .main .page-header {
                margin-top: 0;
            }
            .placeholders {
                margin-bottom: 30px;
                text-align: center;
            }
            .placeholders h4 {
                margin-bottom: 0;
            }
            .placeholder {
                margin-bottom: 20px;
            }
            .placeholder img {
                border-radius: 50%;
                display: inline-block;
            }
        </style>
    </h:head>

    <h:body>
        <p:dialog id="modalAcercaDe" 
                  header="Usuario Logueado" 
                  widgetVar="modalAcercaDe"
                  closable="false"
                  showEffect="fade"
                  hideEffect="fade"
                  modal="true"
                  width="300"
                  position="center center" 
                  onShow="PF('modalAcercaDe').initPosition()"
                  style="position:absolute; top: 10px;">
            <h1>SOCIALNET</h1>
            <p>JUAN CARLOS SORIANO RAMIREZ</p>
            <p>JOSUE CASTILLO ARIAS</p>
            <p>LUIS GERARDO</p>
            <p>Version:<b>1.0</b></p>
            <p>@2017, Tesis</p>
            <f:facet name="footer">
                <h:form>
                    <p:commandButton value="Ok" onclick="PF('modalAcercaDe').hide();return false;"/>
                </h:form>
            </f:facet>
        </p:dialog>
        <p:dialog id="modalSalir" 
                  header="Cerrar Sesion" 
                  widgetVar="modalSalir"
                  closable="false"
                  showEffect="fade"
                  hideEffect="fade"
                  modal="true"
                  width="300"
                  position="center center" 
                  onShow="PF('modalSalir').initPosition()"
                  style="position:absolute; top: 5px;">
            <h:form>
                <p>Esta seguro de abandonar el sistema?</p>
                <p:commandButton value="Si" action="#{manageLogin.logout()}"/>
                <p:button value="No" onclick="PF('modalSalir').hide();return false;"/>
            </h:form>
        </p:dialog>
        <p:dialog id="logueado" header="Usuario Logueado" 
                  widgetVar="modalUserLog"
                  closable="false" 
                  hideEffect="fade"
                  showEffect="fade"
                  modal="true"
                  width="400"
                  position="center center" 
                  onShow="PF('modalUserLog').initPosition()"
                  style="position:absolute; top: 10px;">
            <h:panelGrid columns="2" cellpadding="5">
                <p:outputLabel value="Usuario:"/>
                <p:outputLabel value="#{principal.usuarioLogueado.nombreCompleto}"/>
                <p:outputLabel value="Rol:"/>
                <p:outputLabel value="#{principal.usuarioLogueado.nombrePerfil}"/>
                <p:outputLabel value="Fecha Inicio Sesion: "/>
                <p:outputLabel value="#{principal.usuarioLogueado.fechaInicio}"/>
            </h:panelGrid>
            <f:facet name="footer">
                <b:button value="Ok" dismiss="modal" onclick="PF('modalUserLog').hide();return false;"/>
            </f:facet>
        </p:dialog>
        <div id="top" class="top">
            <ui:insert name="top">
                <b:navBar brandHref="#" inverse="true" brand-img="http://www.uca.edu.sv/servicio-social/wp-content/uploads/icon3.jpg" 
                          brand-img-style="position:absolute;width:212px;left:0px;top:-5px;">
                    <b:navbarLinks pull="right">
                        <b:dropMenu value="" iconAwesome="fa-envelope">
                            <b:navLink value="Solicitudes" href="#" icon="glyphicon glyphicon-exclamation-sign"></b:navLink>
                        </b:dropMenu>
                        <b:dropMenu value="" iconAwesome="fa-user">
                            <b:navLink value="Info" href="#" onclick="PF('modalUserLog').show();return false;" icon="glyphicon glyphicon-exclamation-sign"></b:navLink>
                            <b:navLink href="#" value="Salir" icon="glyphicon glyphicon-off" onclick="PF('modalSalir').show();return false;"/>
                        </b:dropMenu>
                    </b:navbarLinks>
                </b:navBar>
            </ui:insert>
        </div>
        <div>
            <div id="left">
                <ui:insert name="left">
                    <b:container fluid="true">
                        <b:row>
                            <b:column col-sm="3" col-md="2" styleClass="sidebar">
                                <b:listLinks>
                                    <b:navLink header="Menu" />
                                    <ui:repeat var="mOp" value="#{principal.menu}">
                                        <b:navLink value="#{mOp.menu.descripcion}" 
                                                   href="#{mOp.menu.url!=null and mOp.menu.url!='' ? principal.path.concat(mOp.menu.url) : null}" 
                                                   rendered="#{mOp.subMenu.size()==0}"
                                                   onclick="PF('#{mOp.menu.funcion}').show();return false;"/>
                                        <b:accordion rendered="#{mOp.subMenu.size()>0}">
                                            <b:panel title="#{mOp.menu.descripcion}">
                                                <b:listLinks>
                                                    <ui:repeat value="#{mOp.subMenu}" var="smOp">
                                                        <b:navLink value="#{smOp.descripcion}"
                                                                   href="#{smOp.url!=null and smOp.url!='' ? principal.path.concat(smOp.url) : null}" 
                                                                   onclick="PF('#{smOp.funcion}').show();return false;"/>                                                        
                                                    </ui:repeat>
                                                </b:listLinks>
                                            </b:panel>
                                        </b:accordion>
                                    </ui:repeat>                                    
                                </b:listLinks>
                            </b:column>                            
                        </b:row>                        
                        <!--Cerrar sesion-->
                    </b:container> 
                </ui:insert>
            </div>
            <div id="content" style="padding-top: 60px;padding-bottom: 85px;">
                <b:column col-sm="9" offset-sm="3" col-md="10" offset="2" styleClass="main">
                    <ui:insert name="content"></ui:insert>
                    <b:growl id="growlGlobalError" 
                             placementFrom="bottom" 
                             show-detail="true"
                             global-only="false"
                             show-summary="true" 
                             allow-dismiss="true"
                             animation-enter="animated bounceInDown"
                             animation-exit="animated flipOutX"
                             escape="true"/>
                </b:column>
            </div>
        </div>
    </h:body>   
</html>
